# Check out https://docs.codemagic.io/yaml/building-a-react-native-app/ for more information
# Please review and update values in curly braces

workflows:
  all:
    name: Internal builds (iOS + Android)
    environment:
      vars:
        FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD: Encrypted(Z0FBQUFBQmZGZVlBajV6S3JNR29YOW5nQlZaanRlalJUOFBEY0dreFVSQ05NWHVvRk53LTVvRkZSRkdTdnJYVkxPRnBySGctREZCYjJZaXFDVXdGMkZFRzFRdkMyeW1UTUlhcjRkRTViYlJfWXFLVkFOM2VBaTg9)
        MATCH_PASSWORD: Encrypted(Z0FBQUFBQmZFd2lLU1BMbUFKQzl5RW9KeFdUdld5Rkx5VUl2TVdZeXdhaEJxTk9OWC1IZ1ZZQS1fYWFyX014Nnk3aHlRdS1mYmhNcDVueVh3TG9xSHdFYThvSU0wWl9SbXdFZ25XeGR4Q0l5OHZtNER6c215SnM9)
        FCI_KEYSTORE_FILE: Encrypted(Z0FBQUFBQmZFcHY2R3djclN6MWNLNGw3Uy1kZ0VzSmFnNkFCODJYZ3VLOTFkX1VCWEtuZVNsSW9SRkEyUkN6VFFJblp5ZEtyRXFYXzBueWZOUFlOcVZpcUJBOFMxS0NXcXFLTHFmNWJyMDM0RHNkRXBVbktGRVk4R0ZKb1pkb3lQNWtJeTV4TkM2LTV4bFdMclJId1JrbzJPOGRUUVljaGJRVGx5RDVBMWZwV25rWnhhYU9odHRxc3UwUTFRcHh5Q2VCXzR3cVdvZEpNZmxzU3JMNmZSU1dwYUlFM2d3WEx1TlhvdjViamlqM0hjdmgxNFFIYkQxY3dMR090RFVQWEE1Smo0VG9BVGtfZ0g1TE1mVFgwRjRVYV92TnAzQ1JFSFk3Njk5cUJlRkU2aEpYd3RWNnA4MEtMRXpoaVRXRk5wMVE2cFFjazJfc3I1VVo4VzJMSmVsZnNQM0MtT3hvWjJTd1FKd0dXeFc3WVR1QXFHbVhnRVEzMVo3dkJka2dkVDdSNEgyWTczUGlqUUNsSkZRNm9tZllMdXNKRmhQcUg3aTUza0ZzeDI2MEc2X1FFTnBNeTFSTjlSbngyVW1EWjVmeHpuRWNSSXF2YVJ4QldlaGRfQTFvdURfTVUxWjE1TkstRWE0djdXRnUwUEdKVkpwLWtiX0dyY1AzdFhqQjNBVXctZDhmcjBnTlpBclpDd0MxNTA2cEs2RXpBWFprcUhDcFJpYkdNQ09taEpXcVQ4dW44eVhuV3A3S2lQU19jSzI1WlZleFNIeWVDQ2FUcUFMM25iX01YNktjVUo0dTNXTG5ianhRTDZCUEtsVW13ZUJzbmFTcDg4T3JpZ1p1ZnJrTTVpOV9Yeks4Yk9sblBkeDdvQTFmZ2NMeXZqcWRVc1Mwd0RzUHZsbjlMUHU2TVNCSW9sNWk1TlpBelpjcnV2eUZtc3dxMjUtZ1Q0WTFKcXBGT1FrNk1wNkRsN0k5X09uQlRMdDdteFVGSHJ4cEhDSU9yQTJsY2hrbzk1MGUzeUc0V2tORmRwYjQ0NkVyUWNhU2N4NUF2MFFJOWtGcnNXc0RyMU5DVF9ZMWIwOVo4S09RQTFHY3lQb29XRzR4ckNrWnZ4ZlBTdjJ5TVJielcxRllYWU9tTEt2cTF4TXFSQTllMUtHTUN3M2ZjazRhUmptQ3dMV0xtd2syLVVhMk0zaUtIc3plUVF5Q0NoeVZKb1VwS2ZuWFNySDBwN3FJa3F4U1FLdGpwSkNWWUNQbHYxaWN6cjhWMlBSUmZOOTBJOGpmQUJOMmc5T3VtZFhpSFBkSUhRVW5lOG1lcW5vSlA2WllhczNzeVE4STVqdll5dldic0ZTV3FOVlM4NXluNDFEOUxlRWpWRnRONkZobnhqV29RRHpRcHFjdFpIRHgtcEllTFVqU0pfTnFkZVVxUHpFdDVSSWZNUDVCRkVfdGhsU1FBcERiaGhXRVlNMG1haTgzYWtybFlCeVBkaHJpdDVEQlA5ZXptY0tGVGJXTlh2R1NRcGNTeEJzdVN6aG1jaFJpRmRQVVd2cGFDb1dLQWJfM0ZjZEFXUzYtMFBUVGY4b09JWFZwWXVqbUh6T2NjOWdYU1I2OGloajA2TlBVUUJxTXYyT09pLWVUbnlSMGV1Q2oySjBBYWJGTlV5Sl9uSHQ2UGhYQXNaVTVWSW94ZFYydFFvUFljbjFiaUs5QlVFNm9YazhrZi1qWTNuT2pkVTZNa3JGaHJ0T3RRcjMxLXVRX2lGclFqVDh5MEF4VTFXeHNlQk1fakZocGJPY280Y0x2ZHQ1d0xVT3d0OFdYME5xV3Z5dTJ2YXhKMWVSVEU2MklhNTN6dnF2NFdlMFh3Rm56aXlBVF9oY1VJengwUzlyVWs4em92UTVJaERtcTB5MmJodDZWZlZvVXBvYlRlbHcxaDJMUm1PNHJ4RnM1aTN3QVdfRWpkZHVFeEdYVUVxeUhhRE9ta3hoeHpmLXBzbWpUcFdmSnRCQWh3b29zYWRLVDQ5YWVaT0diYUdfSE1DWW9wR2NXSHUtMGcwMHRibE1IcDhzSzJrWlczLWtERTlnckhva29rTG1LMzB2ZTB5eHI4UFIzOHlGd3U2REk0b2l2VDB2d0VuX0dBd2l3QlhuWGJ6T2RtM0hibktKWVRzM0NjQl9CVnoySlIzXzRONVhtTllWXy1lUzdHQ3NSeUhpUTM1TUFXWjg5Vy1Kd1pBb2dkTUtFeWhVaUtqOU1TNzFfUnJPaXFCVVpDT0kyWmVWaGxVc1piTWV5REJ2WmFpQmNwLThDcXBnNUlidVUtTXZKaGstYjVTNERlYkhyU2dXWVJfa0NTcjN2VnFtS1hWalNzWlZ4bVpjRVRxb2VKUVpyUVBOdmFWQThTNDBIOWpqZEJPaTdlUW1iU0xKclJlTGhWdFFibVlJRUw1MEpKUDBBV1dpbzRpa1JSRnVFN05QWjA5Y3o0M0JiTmE2OHcxekJIeXp3SG1oVGdlSUJTVlB5b3UtcGQtQWdJaExiUVJIcDI4Q01PMzM3eVE5bDNZZS0tMFhxZnZqSDYycEt2dUNtclJPY0R2VWptcjQwb1NDZ29FNTRhQVlLdUpaX2lMY29uT1Fub3RLcXV1NUw0OURVMUNHX0JCYVFyZm5RMWxMZEpYeGF4TFhDNlUtZzF4REpMUk1JMzY1OTFVYzYxYURTTEVIZHZmTGNUSTlPR051WHo5czlXZUJaaTVEQVpPSF91NUwtdzhRQnc3bW5TaHRyZWF5cldkQlZNZl83dUNSemNQZFkxMGVtblhkX2o5SFhEQ2VTeEM2LTNfaGJmdm1SZEFMdG9NcHVlak5JbVAweEJsUEN2c1RENjFrUjkzQnVianFJaVMxLVg0eWVkNFV3aUJhczk4eUpybVRWSUZYM1R5d05NdkhNWm9SYVNnc2JFYzdEZzhERHhEaldoc19TRjItcjNXOXdhcE5aNVhZVUFXVDFUSlRRMHMtWWpOdy1WenNzREhwOWQyN3E5UlV2dVJnclM3YjBmS3FIdU1jbHdyNTU5cy1LeHdOamtZRUJPblphaU1vLUh4OEMtREowaFlYa2tXOWxNRmhqNm1aMTBGejlCaFoyQ1ZlN3VBWjJxWlFQeXRJbngyU1ZqcU1qcURjQ0FHWHd5cnlIcXNEWTh5TmZsSGZGSFJ4S0N2RXoxLVJRaTFQT09XSlRBLXpDdzVYcTRTMHRhUHNzR1JGWXYySVY4NnJlVzRlYTN4UGQtSk52X29rNk4ta2xQYUNBWmZ3V1FPOUtMTlhwem5ZV2FRM2tYa0tIMVhBTnk2eXRxSHhabDNBQWl2UFlMejRJVGgxZ0pBdjkzaGNxZEZjZ0dMQjFzZHZTNncyRmhWWlVubEowOXh2Rlc5bmJOSmVQc2VHRWR2QW1ZVVgwZDQ5YVhkSmRZSlZvVXZybVdUalBET0pac0w4VWxXTnNDTXExd25ISlFSZGJ2T3VnakpMbVhkY2hOdElzbWtkS2J4ZG5qVnhKNzc3ekJxOU90b1lRUEFsalVNYldxcmlZRUtkcXA2aUV0YXZvR0JXRjRRM1JiYW5aclNvT2otSjNGWEZLZlludjF0aER3Zl9KMFYtd3d4Y19laWtBX2l5cGhkZHY2LUxaSXRydmw0WDhTNnMzR3pmLTJMVHlOeUNHR19pUmtobDRqOERjUmZDeVdDcF9wV0R0cU1VYWVoQmY2X29Ub2NicXd0UVphd1MyMGJDd0ZOZmFRQVBxTUN2NjgwMDZjOFpwSUFLVGRGR0VzdnQ2QlB1ckpMNmNhM1FNcG1scEItNFFadUs4cEpEZzMwMGVGR3lvSy02d2xjN0VweC1HelRUQktLVEgtalFRX1NMelRzVHNwZW5uTWpETFZtM0NybnRRdHljdUJWSm04RXNId240Z2FMVmtkcFpocWlmVVlRMXhtQW1tNXAwbnMxMlZHaEtLeWdQUEFBeG1OcVd1TUtWNU9qV2gwTTVONFY3UnNmZUJXQ21lYmlMRWJucFJONGlyZ0RFa0pOMzZJU29KN3B0cEpWUkh6U2FNVDFyNmlYX0FjY3pZUHlSS0NpRTN1ZnktSVpoS01xbzNuVnFISXZ3RjJvak9fZ3JhMEh2QXhXdXhTb3pKZFpjOTdzb01KWTlUS19kQk8yQm5SVzlXRDU2QWdOUGhMTDE0bUpOR3l5TDRnNUdNei1CeE8tTFVZZTZGSHg2ZE5BVmNKbzZTbGFhRFI1TW5HclQ5TVZLeEFtYkxodmpKS3lzSkR3QVJSdDJNYXJhOGZzRUttVEVNdE1SWDczTGtUdV9XUGxXbHhFNUZPT3N5TUswZ2Ewa0JTR2pGWXF6V1EyR3R4RkRGX2R6ejdCMmJBam8zZ1VpakV4ZDhaZGdtSjVQOXlLZ1lrLU14R0pCSVI5M0FsM2h4bHY0dF9EVUd5RHVZaXlod0t1bjlhZUM5dTEyLVZFZ3VVbDFac1ZfQ2dIY0RoLTlvbGRESUN5SXZrNm5xZGY3WDgwTkhqWHBhbHNRQmY3cFhaampKZVlCLUV3WDdOQks3WHFFUHQwTkJOdzd6S3R0VFlwaDRCeEMtc3dqczZHbTh1WnllbENVM0k2VWJpVFlsaHJWOUMyZUozZGpESW9LeDJFUkdEWUVvMDk1MEF2VWFVQVVTMW5wd2hlNUVEbkRaTUlXbnhrVEV4cFZZQ0JIZ25SZjZWaTc4QXE0cmpMX0xRU1hPWWo5Y2RKRzRBaGxURWJvYkEtUjh2VHJCc0NycDdMLVRXZFFZaElfRk54YWZJcmdEcm5WMDNOU1hwdF8xT1ZOTGFTU3ZxamxTRDl6eGJoTUYzVlB3OXliRUxxaWo4dzY3ZnllSnpJMnNsTmFuMjVYVzZMOXRIN1QxOUo1TUxIOERPaTJZRkZrME9POHhGcjU4S3loTndXUkZZdGNpMEJuMHVUVnFnYXZ3RFhIU3BxOThTV1NQaEE2bkNrRlUtQ0haU0xDS0M0NTBkLVBxUEF0eGl6aC1TX3lzVVFrODdBakVKd0pOeFBFTG50d0Q5aVlSR1BaQ3BBOEZ5cEVwM2U1S2R6X2QzalZBakFGWWZPbEdEOG56TTQ1Y2J5QS1zdlAwVXFNQTFWREpjTkpYSnVXOEluZ1FhX1lLazY2TUl6dGNhQzFlSHZuV0lSeTdFbnkxLXdFRHBFZ1FqWHA4OGZySGRnb2N1bzRlcnBwRGY3UUZvVGx0U0YtVE1qY244eWJWamo1MHdDLUVJUl9uTXQyeXM5NEZSaXRCS1BwVmY1dnJ1Qmc3STJYV1NGMjR5R3hkd0VlLVFiQmswOFhxdDlCMWk3WXFPcnFESFVScFFZdDVIVjJrRzJjRlhGSkNHUUpZT0NMTDREaV9ubDZidF92N2l1dlZITVFlZ1ZlRVBnMGkxWEFnZ3ZJSXZZZHVKazgwZmVXbFBaNHBBVmNhSTBuc3JpZDU1QzBPUmJoU0lsRXk0enExYjQwdHNUT0FtTU1PRWUtZ1puekw0U1E9PQ==)
        CERT_SSH_KEY: -----BEGIN OPENSSH PRIVATE KEY-----
            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
            -----END OPENSSH PRIVATE KEY-----
            
      node: latest
    scripts:
      - yarn
      - echo "sdk.dir=$HOME/programs/android-sdk-macosx" > "$FCI_BUILD_DIR/android/local.properties"
      - echo $FCI_KEYSTORE_FILE | base64 --decode > $FCI_BUILD_DIR/keystore.jks
      - |
          # install fastlane
          gem install bundler
          bundle install
      - |
          # build Android
          bundle exec fastlane android internal
      - |
          # build iOS
          bundle exec fastlane ios internal
    artifacts:
      - android/app/build/outputs/**/**/*.apk
      - $HOME/Library/Developer/Xcode/DerivedData/**/Build/**/*.app
  ios:
    name: Internal builds (iOS only)
    environment:
      vars:
        FASTLANE_APPLE_APPLICATION_SPECIFIC_PASSWORD: Encrypted(Z0FBQUFBQmZGZVlBajV6S3JNR29YOW5nQlZaanRlalJUOFBEY0dreFVSQ05NWHVvRk53LTVvRkZSRkdTdnJYVkxPRnBySGctREZCYjJZaXFDVXdGMkZFRzFRdkMyeW1UTUlhcjRkRTViYlJfWXFLVkFOM2VBaTg9)
        MATCH_PASSWORD: Encrypted(Z0FBQUFBQmZFd2lLU1BMbUFKQzl5RW9KeFdUdld5Rkx5VUl2TVdZeXdhaEJxTk9OWC1IZ1ZZQS1fYWFyX014Nnk3aHlRdS1mYmhNcDVueVh3TG9xSHdFYThvSU0wWl9SbXdFZ25XeGR4Q0l5OHZtNER6c215SnM9)
        FCI_KEYSTORE_FILE: Encrypted(Z0FBQUFBQmZFcHY2R3djclN6MWNLNGw3Uy1kZ0VzSmFnNkFCODJYZ3VLOTFkX1VCWEtuZVNsSW9SRkEyUkN6VFFJblp5ZEtyRXFYXzBueWZOUFlOcVZpcUJBOFMxS0NXcXFLTHFmNWJyMDM0RHNkRXBVbktGRVk4R0ZKb1pkb3lQNWtJeTV4TkM2LTV4bFdMclJId1JrbzJPOGRUUVljaGJRVGx5RDVBMWZwV25rWnhhYU9odHRxc3UwUTFRcHh5Q2VCXzR3cVdvZEpNZmxzU3JMNmZSU1dwYUlFM2d3WEx1TlhvdjViamlqM0hjdmgxNFFIYkQxY3dMR090RFVQWEE1Smo0VG9BVGtfZ0g1TE1mVFgwRjRVYV92TnAzQ1JFSFk3Njk5cUJlRkU2aEpYd3RWNnA4MEtMRXpoaVRXRk5wMVE2cFFjazJfc3I1VVo4VzJMSmVsZnNQM0MtT3hvWjJTd1FKd0dXeFc3WVR1QXFHbVhnRVEzMVo3dkJka2dkVDdSNEgyWTczUGlqUUNsSkZRNm9tZllMdXNKRmhQcUg3aTUza0ZzeDI2MEc2X1FFTnBNeTFSTjlSbngyVW1EWjVmeHpuRWNSSXF2YVJ4QldlaGRfQTFvdURfTVUxWjE1TkstRWE0djdXRnUwUEdKVkpwLWtiX0dyY1AzdFhqQjNBVXctZDhmcjBnTlpBclpDd0MxNTA2cEs2RXpBWFprcUhDcFJpYkdNQ09taEpXcVQ4dW44eVhuV3A3S2lQU19jSzI1WlZleFNIeWVDQ2FUcUFMM25iX01YNktjVUo0dTNXTG5ianhRTDZCUEtsVW13ZUJzbmFTcDg4T3JpZ1p1ZnJrTTVpOV9Yeks4Yk9sblBkeDdvQTFmZ2NMeXZqcWRVc1Mwd0RzUHZsbjlMUHU2TVNCSW9sNWk1TlpBelpjcnV2eUZtc3dxMjUtZ1Q0WTFKcXBGT1FrNk1wNkRsN0k5X09uQlRMdDdteFVGSHJ4cEhDSU9yQTJsY2hrbzk1MGUzeUc0V2tORmRwYjQ0NkVyUWNhU2N4NUF2MFFJOWtGcnNXc0RyMU5DVF9ZMWIwOVo4S09RQTFHY3lQb29XRzR4ckNrWnZ4ZlBTdjJ5TVJielcxRllYWU9tTEt2cTF4TXFSQTllMUtHTUN3M2ZjazRhUmptQ3dMV0xtd2syLVVhMk0zaUtIc3plUVF5Q0NoeVZKb1VwS2ZuWFNySDBwN3FJa3F4U1FLdGpwSkNWWUNQbHYxaWN6cjhWMlBSUmZOOTBJOGpmQUJOMmc5T3VtZFhpSFBkSUhRVW5lOG1lcW5vSlA2WllhczNzeVE4STVqdll5dldic0ZTV3FOVlM4NXluNDFEOUxlRWpWRnRONkZobnhqV29RRHpRcHFjdFpIRHgtcEllTFVqU0pfTnFkZVVxUHpFdDVSSWZNUDVCRkVfdGhsU1FBcERiaGhXRVlNMG1haTgzYWtybFlCeVBkaHJpdDVEQlA5ZXptY0tGVGJXTlh2R1NRcGNTeEJzdVN6aG1jaFJpRmRQVVd2cGFDb1dLQWJfM0ZjZEFXUzYtMFBUVGY4b09JWFZwWXVqbUh6T2NjOWdYU1I2OGloajA2TlBVUUJxTXYyT09pLWVUbnlSMGV1Q2oySjBBYWJGTlV5Sl9uSHQ2UGhYQXNaVTVWSW94ZFYydFFvUFljbjFiaUs5QlVFNm9YazhrZi1qWTNuT2pkVTZNa3JGaHJ0T3RRcjMxLXVRX2lGclFqVDh5MEF4VTFXeHNlQk1fakZocGJPY280Y0x2ZHQ1d0xVT3d0OFdYME5xV3Z5dTJ2YXhKMWVSVEU2MklhNTN6dnF2NFdlMFh3Rm56aXlBVF9oY1VJengwUzlyVWs4em92UTVJaERtcTB5MmJodDZWZlZvVXBvYlRlbHcxaDJMUm1PNHJ4RnM1aTN3QVdfRWpkZHVFeEdYVUVxeUhhRE9ta3hoeHpmLXBzbWpUcFdmSnRCQWh3b29zYWRLVDQ5YWVaT0diYUdfSE1DWW9wR2NXSHUtMGcwMHRibE1IcDhzSzJrWlczLWtERTlnckhva29rTG1LMzB2ZTB5eHI4UFIzOHlGd3U2REk0b2l2VDB2d0VuX0dBd2l3QlhuWGJ6T2RtM0hibktKWVRzM0NjQl9CVnoySlIzXzRONVhtTllWXy1lUzdHQ3NSeUhpUTM1TUFXWjg5Vy1Kd1pBb2dkTUtFeWhVaUtqOU1TNzFfUnJPaXFCVVpDT0kyWmVWaGxVc1piTWV5REJ2WmFpQmNwLThDcXBnNUlidVUtTXZKaGstYjVTNERlYkhyU2dXWVJfa0NTcjN2VnFtS1hWalNzWlZ4bVpjRVRxb2VKUVpyUVBOdmFWQThTNDBIOWpqZEJPaTdlUW1iU0xKclJlTGhWdFFibVlJRUw1MEpKUDBBV1dpbzRpa1JSRnVFN05QWjA5Y3o0M0JiTmE2OHcxekJIeXp3SG1oVGdlSUJTVlB5b3UtcGQtQWdJaExiUVJIcDI4Q01PMzM3eVE5bDNZZS0tMFhxZnZqSDYycEt2dUNtclJPY0R2VWptcjQwb1NDZ29FNTRhQVlLdUpaX2lMY29uT1Fub3RLcXV1NUw0OURVMUNHX0JCYVFyZm5RMWxMZEpYeGF4TFhDNlUtZzF4REpMUk1JMzY1OTFVYzYxYURTTEVIZHZmTGNUSTlPR051WHo5czlXZUJaaTVEQVpPSF91NUwtdzhRQnc3bW5TaHRyZWF5cldkQlZNZl83dUNSemNQZFkxMGVtblhkX2o5SFhEQ2VTeEM2LTNfaGJmdm1SZEFMdG9NcHVlak5JbVAweEJsUEN2c1RENjFrUjkzQnVianFJaVMxLVg0eWVkNFV3aUJhczk4eUpybVRWSUZYM1R5d05NdkhNWm9SYVNnc2JFYzdEZzhERHhEaldoc19TRjItcjNXOXdhcE5aNVhZVUFXVDFUSlRRMHMtWWpOdy1WenNzREhwOWQyN3E5UlV2dVJnclM3YjBmS3FIdU1jbHdyNTU5cy1LeHdOamtZRUJPblphaU1vLUh4OEMtREowaFlYa2tXOWxNRmhqNm1aMTBGejlCaFoyQ1ZlN3VBWjJxWlFQeXRJbngyU1ZqcU1qcURjQ0FHWHd5cnlIcXNEWTh5TmZsSGZGSFJ4S0N2RXoxLVJRaTFQT09XSlRBLXpDdzVYcTRTMHRhUHNzR1JGWXYySVY4NnJlVzRlYTN4UGQtSk52X29rNk4ta2xQYUNBWmZ3V1FPOUtMTlhwem5ZV2FRM2tYa0tIMVhBTnk2eXRxSHhabDNBQWl2UFlMejRJVGgxZ0pBdjkzaGNxZEZjZ0dMQjFzZHZTNncyRmhWWlVubEowOXh2Rlc5bmJOSmVQc2VHRWR2QW1ZVVgwZDQ5YVhkSmRZSlZvVXZybVdUalBET0pac0w4VWxXTnNDTXExd25ISlFSZGJ2T3VnakpMbVhkY2hOdElzbWtkS2J4ZG5qVnhKNzc3ekJxOU90b1lRUEFsalVNYldxcmlZRUtkcXA2aUV0YXZvR0JXRjRRM1JiYW5aclNvT2otSjNGWEZLZlludjF0aER3Zl9KMFYtd3d4Y19laWtBX2l5cGhkZHY2LUxaSXRydmw0WDhTNnMzR3pmLTJMVHlOeUNHR19pUmtobDRqOERjUmZDeVdDcF9wV0R0cU1VYWVoQmY2X29Ub2NicXd0UVphd1MyMGJDd0ZOZmFRQVBxTUN2NjgwMDZjOFpwSUFLVGRGR0VzdnQ2QlB1ckpMNmNhM1FNcG1scEItNFFadUs4cEpEZzMwMGVGR3lvSy02d2xjN0VweC1HelRUQktLVEgtalFRX1NMelRzVHNwZW5uTWpETFZtM0NybnRRdHljdUJWSm04RXNId240Z2FMVmtkcFpocWlmVVlRMXhtQW1tNXAwbnMxMlZHaEtLeWdQUEFBeG1OcVd1TUtWNU9qV2gwTTVONFY3UnNmZUJXQ21lYmlMRWJucFJONGlyZ0RFa0pOMzZJU29KN3B0cEpWUkh6U2FNVDFyNmlYX0FjY3pZUHlSS0NpRTN1ZnktSVpoS01xbzNuVnFISXZ3RjJvak9fZ3JhMEh2QXhXdXhTb3pKZFpjOTdzb01KWTlUS19kQk8yQm5SVzlXRDU2QWdOUGhMTDE0bUpOR3l5TDRnNUdNei1CeE8tTFVZZTZGSHg2ZE5BVmNKbzZTbGFhRFI1TW5HclQ5TVZLeEFtYkxodmpKS3lzSkR3QVJSdDJNYXJhOGZzRUttVEVNdE1SWDczTGtUdV9XUGxXbHhFNUZPT3N5TUswZ2Ewa0JTR2pGWXF6V1EyR3R4RkRGX2R6ejdCMmJBam8zZ1VpakV4ZDhaZGdtSjVQOXlLZ1lrLU14R0pCSVI5M0FsM2h4bHY0dF9EVUd5RHVZaXlod0t1bjlhZUM5dTEyLVZFZ3VVbDFac1ZfQ2dIY0RoLTlvbGRESUN5SXZrNm5xZGY3WDgwTkhqWHBhbHNRQmY3cFhaampKZVlCLUV3WDdOQks3WHFFUHQwTkJOdzd6S3R0VFlwaDRCeEMtc3dqczZHbTh1WnllbENVM0k2VWJpVFlsaHJWOUMyZUozZGpESW9LeDJFUkdEWUVvMDk1MEF2VWFVQVVTMW5wd2hlNUVEbkRaTUlXbnhrVEV4cFZZQ0JIZ25SZjZWaTc4QXE0cmpMX0xRU1hPWWo5Y2RKRzRBaGxURWJvYkEtUjh2VHJCc0NycDdMLVRXZFFZaElfRk54YWZJcmdEcm5WMDNOU1hwdF8xT1ZOTGFTU3ZxamxTRDl6eGJoTUYzVlB3OXliRUxxaWo4dzY3ZnllSnpJMnNsTmFuMjVYVzZMOXRIN1QxOUo1TUxIOERPaTJZRkZrME9POHhGcjU4S3loTndXUkZZdGNpMEJuMHVUVnFnYXZ3RFhIU3BxOThTV1NQaEE2bkNrRlUtQ0haU0xDS0M0NTBkLVBxUEF0eGl6aC1TX3lzVVFrODdBakVKd0pOeFBFTG50d0Q5aVlSR1BaQ3BBOEZ5cEVwM2U1S2R6X2QzalZBakFGWWZPbEdEOG56TTQ1Y2J5QS1zdlAwVXFNQTFWREpjTkpYSnVXOEluZ1FhX1lLazY2TUl6dGNhQzFlSHZuV0lSeTdFbnkxLXdFRHBFZ1FqWHA4OGZySGRnb2N1bzRlcnBwRGY3UUZvVGx0U0YtVE1qY244eWJWamo1MHdDLUVJUl9uTXQyeXM5NEZSaXRCS1BwVmY1dnJ1Qmc3STJYV1NGMjR5R3hkd0VlLVFiQmswOFhxdDlCMWk3WXFPcnFESFVScFFZdDVIVjJrRzJjRlhGSkNHUUpZT0NMTDREaV9ubDZidF92N2l1dlZITVFlZ1ZlRVBnMGkxWEFnZ3ZJSXZZZHVKazgwZmVXbFBaNHBBVmNhSTBuc3JpZDU1QzBPUmJoU0lsRXk0enExYjQwdHNUT0FtTU1PRWUtZ1puekw0U1E9PQ==)
        CERT_SSH_KEY: -----BEGIN OPENSSH PRIVATE KEY-----
            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
            -----END OPENSSH PRIVATE KEY-----
            
        node: latest
    scripts:
      - yarn
      - echo "sdk.dir=$HOME/programs/android-sdk-macosx" > "$FCI_BUILD_DIR/android/local.properties"
      - echo $FCI_KEYSTORE_FILE | base64 --decode > $FCI_BUILD_DIR/keystore.jks
      - |
          # install fastlane
          gem install bundler
          bundle install
      - |
          # build iOS
          bundle exec fastlane ios internal
    artifacts:
      - android/app/build/outputs/**/**/*.apk
      - $HOME/Library/Developer/Xcode/DerivedData/**/Build/**/*.app